<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bodhi Swan Ceramics — Class Bookings</title>
  <!-- Copy exact CSS and font includes from index page -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Copy header markup directly from index page -->
  <header>
    <div class="nav-container">
      <a href="/" class="logo-link">
        <img src="348982356_573566748281355_5155277251296915931_n.jpg" alt="Bodhi Swan Ceramics logo" class="logo" />
      </a>
      <nav>
        <a href="shop.html">Shop</a>
        <a href="class-booking.html" class="active">Classes</a>
        <a href="https://instagram.com/bodhiswan" target="_blank">Instagram</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>Weekly classes — Mondays, 6–9pm (September)</h1>
      <p>Select a week in September and book the Monday session via Stripe.</p>
    </section>

    <section class="booking-selector">
      <label for="weekSelect">Select week:</label>
      <select id="weekSelect"></select>
      <button id="viewWeek">View classes</button>
    </section>

    <section class="about">
      <h2>About the classes</h2>
      <p>These are weekly-run classes designed for multi-week attendance. You’ll learn to throw on the wheel, trim, and glaze your work. Price excludes clay, firing and glazing — these can be purchased and done at the Indooroopilly Ceramic Studio or elsewhere.</p>
      <p>Join casually at <strong>$60 per class</strong>, or save with an ongoing <strong>$50/week subscription</strong>.</p>
      <p>The first hour is guided instruction. The remaining two hours are open studio time to throw and trim as you like.</p>
    </section>

    <section class="location">
      <h2>Location & parking — Indooroopilly Ceramic Studio</h2>
      <p><strong>Address:</strong> Shop 4 &amp; 6, 8 Station Road, Indooroopilly QLD 4068.</p>
      <p><strong>Parking:</strong> Free parking behind the studio off Coonan Street (near Eldorado/Cold Rock). Close to Indooroopilly Train Station and Indooroopilly Shopping Centre.</p>
    </section>
  </main>

  <dialog id="modal">
    <div class="modal-body" id="m-body"></div>
  </dialog>

  <script>
    const STRIPE_LINKS = {
      '2025-09-01': 'https://buy.stripe.com/8x214m5RS4k63mJ0logIo03',
      '2025-09-08': 'https://buy.stripe.com/8x29ASfssg2O1eB4BEgIo02',
      '2025-09-15': 'https://buy.stripe.com/cNi5kCbcceYK3mJgkmgIo04',
      '2025-09-22': 'https://buy.stripe.com/14A5kCeoog2O8H3b02gIo05',
      '2025-09-29': 'https://buy.stripe.com/bJe5kCa883g20ax2twgIo07'
    };
    const pad = n => String(n).padStart(2,'0');
    const addDays = (d,n) => { const x = new Date(d); x.setDate(x.getDate()+n); return x; };
    const toISODate = d => `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    const fmtMonthDay = d => d.toLocaleDateString(undefined,{day:'numeric', month:'long'});
    const classDates = Object.keys(STRIPE_LINKS).map(s => new Date(s + 'T00:00:00'));
    const weekStarts = Array.from(new Set(classDates.map(d => { const x = new Date(d); const day = (x.getDay()||7); if(day !== 1) x.setDate(x.getDate()-(day-1)); x.setHours(0,0,0,0); return x.getTime(); }))).sort((a,b) => a-b).map(ts => new Date(ts));

    const weekSelect = document.getElementById('weekSelect');
    weekStarts.forEach(w => {
      const end = addDays(w,6);
      const opt = document.createElement('option');
      opt.value = w.toISOString();
      opt.textContent = `${fmtMonthDay(w)} to ${fmtMonthDay(end)}`;
      weekSelect.appendChild(opt);
    });

    document.getElementById('viewWeek').addEventListener('click', () => {
      const selected = new Date(weekSelect.value);
      const end = addDays(selected,6);
      const today = new Date(); today.setHours(0,0,0,0);
      const mBody = document.getElementById('m-body');
      mBody.innerHTML = '';
      classDates.filter(d => d >= today && d >= selected && d <= end).forEach(start => {
        const key = toISODate(start);
        const slot = document.createElement('div');
        slot.className = 'slot';
        slot.innerHTML = `<strong>${start.toDateString()}</strong>`;
        const btn = document.createElement('button');
        btn.textContent = 'Book via Stripe';
        btn.onclick = () => window.open(STRIPE_LINKS[key], '_blank');
        slot.appendChild(btn);
        mBody.appendChild(slot);
      });
      document.getElementById('modal').showModal();
    });
  </script>
</body>
</html>
